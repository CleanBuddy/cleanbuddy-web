mutation CreateTeam($displayName: String!) {
  createTeam(displayName: $displayName) {
    ...TeamFields
  }
}

mutation UpdateTeam($id: ID!, $displayName: String!) {
  updateTeam(id: $id, displayName: $displayName) {
    ...TeamFields
  }
}

mutation DeleteTeam($id: ID!) {
  deleteTeam(id: $id)
}

mutation AddTeamMember($teamID: ID!, $email: String!) {
  addTeamMember(teamID: $teamID, email: $email) {
    id
    displayName
    email
  }
}

mutation UpdateTeamMember($teamID: ID!, $userID: ID!, $roles: [TeamMemberRole!]!) {
  updateTeamMember(teamID: $teamID, userID: $userID, roles: $roles) {
    id
    user {
      id
      displayName
      email
      status
    }
    roles
    createdAt
  }
}

mutation AddTeamMemberInvite($teamID: ID!, $email: String!) {
  addTeamMemberInvite(teamID: $teamID, email: $email) {
    ...TeamMemberInviteFields
  }
}

mutation RemoveTeamMemberInvite($inviteID: ID!, $inviteeEmail: String!) {
  removeTeamMemberInvite(inviteID: $inviteID, inviteeEmail: $inviteeEmail)
}

mutation RemoveTeamMember($teamID: ID!, $userID: ID!) {
  removeTeamMember(teamID: $teamID, userID: $userID)
}

query TeamMembers($teamID: ID!) {
  team(id: $teamID) {
    id
    displayName
    owner {
      id
      displayName
      email
    }
    membersConnection {
      edges {
        node {
          id
          user {
            id
            displayName
            email
            status
          }
          roles
          createdAt
        }
        cursor
      }
      totalCount
    }
    memberInvitesConnection {
      edges {
        node {
          id
          inviteeEmail
          invitedBy {
            id
            displayName
            email
          }
          createdAt
        }
        cursor
      }
      totalCount
    }
  }
}

query CurrentUserTeams {
  currentUser {
    id
    displayName
    email
    ownedTeamsConnection {
      edges {
        node {
          id
          displayName
        }
        cursor
      }
      totalCount
    }
    memberTeamsConnection {
      edges {
        node {
          id
          displayName
        }
        cursor
      }
      totalCount
    }
  }
}

query CurrentUserTeamsWithProjects {
  currentUser {
    id
    displayName
    email
    ownedTeamsConnection {
      edges {
        node {
          id
          displayName
          projectsConnection {
            edges {
              node {
                id
                displayName
              }
              cursor
            }
            totalCount
          }
        }
        cursor
      }
      totalCount
    }
    memberTeamsConnection {
      edges {
        node {
          id
          displayName
          projectsConnection {
            edges {
              node {
                id
                displayName
              }
              cursor
            }
            totalCount
          }
        }
        cursor
      }
      totalCount
    }
  }
}
